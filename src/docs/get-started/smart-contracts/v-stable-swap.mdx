<!-- KEYWORDS: V Stable Swap Smart Contract -->

# V Stable Swap Contract

## Introduction

Creating orders requires the order creator to decide on the price of both sides of the trade and also the fee charged. The fees for the V Stable Swap contract is a set fee and is not calculated as a percentage. The order creator also decides on a maximum and a minimum for each swap, setting the maximum allows the order creator to be sure that they get enough fees for providing liquidity, while setting the minimum ensures the fee does not overwhelm any trades.

## Using the VSYS Python API Wrapper pyvsystems

To generate and broadcast transactions, we can use pyvsystems to test contract functionalities on vsys chain.

### Install Pyvsystems

```
git clone https://github.com/virtualeconomy/pyvsystems.git
```

Then using pip, we can install the repository as a package

```
pip3 install pyvsystems/.
```

Then we can simply import <mark>pyvsystems</mark> in your own workplace.


### Register a V Stable Swap contract

**Initialize API Connection**

```
import pyvsystems as pv
from pyvsystems import Account
from pyvsystems.contract import token_id_from_contract_id
from pyvsystems.contract_helper import *

custom_wrapper = pv.create_api_wrapper("<your_node_address>", api_key="<your_node_api_key (optional)>")
# chain = pv.Chain(chain_name='mainnet', chain_id='M', address_version=5, api_wrapper=custom_wrapper)
chain = pv.Chain(chain_name='devnet', chain_id='T', address_version=5, api_wrapper=custom_wrapper)
sender = Account(chain=chain, seed="<your_sender_seed>")
sender2 = Account(chain=chain, seed="<your_sender2_seed>")
```

V Stable Swap Contract ByteString:

```
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
```

<br/>

| **Triggers** 	|                                   **Input**                                   	|                **Input Types**               	|                                                                                                           **Description**                                                                                                           	|
|:------------:	|:-----------------------------------------------------------------------------:	|:--------------------------------------------:	|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:	|
|     Init     	| (baseTokenId, targetTokenId, maxOrderPerUser, unitPriceBase, unitPriceTarget) 	| (token_id, token_id, amount, amount, amount) 	| The maxOrderPerUser is there to ensure users do not flood the orderbook with useless orders. Each trade is divided by the corresponding unitPrice, this is to achieve decimal prices, since the contract system only uses integers. 	|

<br/>

On the main chain, it is expected that the traded tokens will already exist. However, for testing purposes, we will register two tokens to swap.

```
v_stable_swap_helper = VStableSwapContractHelper()
token_without_split_helper = TokenWithoutSplitContractHelper()

register_token_without_split1_data_stack = token_without_split_helper.register_data_stack_generator(1000000000, 1000, "test base token")
register_token_without_split2_data_stack = token_without_split_helper.register_data_stack_generator(1000000000, 1000, "test target token")

sender.register_contract(token_without_split_helper.contract_object, register_token_without_split1_data_stack)
sender.register_contract(token_without_split_helper.contract_object, register_token_without_split2_data_stack)
```

```
base_token_contract_id = "<your_base_token_contract_id>"
target_token_contract_id = "<your_target_token_contract_id>"

base_token_id = "<your_base_token_id>"
target_token_id = "<your_target_token_id>"

issue_base_token_data_stack = token_without_split_helper.issue_data_stack_generator(1000000000)
issue_target_token_data_stack = token_without_split_helper.issue_data_stack_generator(1000000000)

sender.execute_contract(base_token_contract_id, token_without_split_helper.issue_function_index, issue_base_token_data_stack)
sender.execute_contract(target_token_contract_id, token_without_split_helper.issue_function_index, issue_target_token_data_stack)
```

Now that we have the tokens ready, we can finally register a V Stable Swap Contract and depost the tokens into it

```
register_v_stable_swap_data_stack = v_stable_swap_helper.register_data_stack_generator(base_token_id, target_token_id, 5, 1, 1)

sender.register_contract(v_stable_swap_helper.contract_object, register_v_stable_swap_data_stack)

deposit_base_token_data_stack = token_without_split_helper.deposit_data_stack_generator(sender.address, v_stable_swap_contract_id, 1000000000)
deposit_target_token_data_stack = token_without_split_helper.deposit_data_stack_generator(sender.address, v_stable_swap_contract_id, 1000000000)

sender.execute_contract(base_token_contract_id, token_without_split_helper.deposit_function_index, deposit_base_token_data_stack)
sender.execute_contract(target_token_contract_id, token_without_split_helper.deposit_function_index, deposit_target_token_data_stack)
```

## Using V Swap Contract Functions

| **Executable Functions** 	| **Function ID** 	|                                                    **Inputs**                                                    	|                                  **Input Types**                                 	|                                                                                                                                                                                                          **Description**                                                                                                                                                                                                          	|
|:------------------------:	|:---------------:	|:----------------------------------------------------------------------------------------------------------------:	|:--------------------------------------------------------------------------------:	|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:	|
|         Set Order        	|        0        	|                                                    (newOwner)                                                    	|                                     (address)                                    	|                                                                                                                                                                                              Give contract rights to another address.                                                                                                                                                                                             	|
|         Set Order        	|        1        	| (feeBase, feeTarget, minBase, maxBase, minTarget, maxTarget, priceBase, priceTarget, baseDeposit, targetDeposit) 	| (amount, amount, amount, amount, amount, amount, amount, amount, amount, amount) 	| Creates an order and deposit initial amounts into the order. The order can be traded both ways with the set prices (the order acts as a liquidity pool with set prices). Every trade incurs a set fee for the trader, the min and max can be used to ensure trades are not too large so that too little fees are obtained from the provided liquidity. The minimum can be used so the orderbook is not flooded with small orders. 	|
|       Update Order       	|        2        	|           (orderId, feeBase, feeTarget, minBase, maxBase, minTarget, maxTarget, priceBase, priceTarget)          	|   (short_bytes, amount, amount, amount, amount, amount, amount, amount, amount)  	|                                                                                                                                                                                                         Update the order.                                                                                                                                                                                                         	|
|       Order Deposit      	|        3        	|                                       (orderId, baseDeposit, targetDeposit)                                      	|                           (short_bytes, amount, amount)                          	|                                                                                                                                                                                                    Deposit more into the order.                                                                                                                                                                                                   	|
|      Order Withdraw      	|        4        	|                                      (orderId, baseWithdraw, targetWithdraw)                                     	|                           (short_bytes, amount, amount)                          	|                                                                                                                                                                                                Withdraw some funds from the order.                                                                                                                                                                                                	|
|        Close Order       	|        5        	|                                                     (orderId)                                                    	|                                   (short_bytes)                                  	|                                                                                                                                                                                                          Close the order.                                                                                                                                                                                                         	|
|    Swap Base To Target   	|        6        	|                                      (orderId, amount, fee, price, deadline)                                     	|                 (short_bytes, amount, amount, amount, timestamp)                 	|                                                                                                               Swap base tokens to target tokens, the other inputs must be exactly the same as the order to succeed (in order to prevent the case where the order has been updated before the trade gets finalised).                                                                                                               	|
|    Swap Target To Base   	|        7        	|                                      (orderId, amount, fee, price, deadline)                                     	|                 (short_bytes, amount, amount, amount, timestamp)                 	|                                                                                                               Swap Target tokens to base tokens, the other inputs must be exactly the same as the order to succeed (in order to prevent the case where the order has been updated before the trade gets finalised).                                                                                                               	|

<br/>

**Set Order**
```
set_order_data_stack = v_stable_swap_helper.set_order_data_stack_generator(<your_fee_base>, <your_fee_target>, <your_min_base>, <your_max_base>, <your_min_target>, <your_max_target>, <your_price_base>, <your_price_target>, <your_base_deposit>, <your_target_deposit>)

sender.execute_contract(v_stable_swap_contract_id, v_stable_swap_helper.set_order_function_index, set_order_data_stack)
```
<br />

**Update Order**
```
order_id = "<your_order_id>"

update_order_data_stack = v_stable_swap_helper.update_order_data_stack_generator(order_id, <your_fee_base>, <your_fee_target>, <your_min_base>, <your_max_base>, <your_min_target>, <your_max_target>, <your_price_base>, <your_price_target>)

sender.execute_contract(v_stable_swap_contract_id, v_stable_swap_helper.update_order_function_index, update_order_data_stack)
```
<br />

**Order Deposit**
```
order_deposit_data_stack = v_stable_swap_helper.order_deposit_data_stack_generator(order_id, <your_base_deposit>, <your_target_deposit>)

sender.execute_contract(v_stable_swap_contract_id, v_stable_swap_helper.order_deposit_function_index, order_deposit_data_stack)
```
<br />

**Order Withdraw**
```
order_withdraw_data_stack = v_stable_swap_helper.order_withdraw_data_stack_generator(order_id, <your_base_withdraw>, <your_target_withdraw>)

sender.execute_contract(v_stable_swap_contract_id, v_stable_swap_helper.order_withdraw_function_index, order_withdraw_data_stack)
```
<br />

**Close Order**
```
close_order_data_stack = v_stable_swap_helper.close_order_data_stack_generator(order_id)

sender.execute_contract(v_stable_swap_contract_id, v_stable_swap_helper.close_order_function_index, close_order_data_stack)
```
<br />

**Swap Base To Target**
```
swap_base_to_target_data_stack = v_stable_swap_helper.swap_base_to_target_data_stack_generator(order_id, <your_amount>, <your_fee>, <your_price>, <your_deadline>)

sender.execute_contract(v_stable_swap_contract_id, v_stable_swap_helper.swap_base_to_target_function_index, swap_base_to_target_data_stack)
```
<br />

**Swap Target To Base**
```
swap_target_to_base_data_stack = v_stable_swap_helper.swap_target_to_base_data_stack_generator(order_id, <your_amount>, <your_fee>, <your_price>, <your_deadline>)

sender.execute_contract(v_stable_swap_contract_id, v_stable_swap_helper.swap_target_to_base_function_index, swap_target_to_base_data_stack)
```
<br />

**Database Queries**

<br />

| **State Variable** 	| **State Variable Index** 	|                                     **Description**                                    	|
|:------------------:	|:------------------------:	|:--------------------------------------------------------------------------------------:	|
|        maker       	|             0            	|                     The address of the creator of the lock contract                    	|
|     baseTokenId    	|             1            	|                        The token id of the base swappable token                        	|
|    targetTokenId   	|             2            	|                       The token id of the target swappable token                       	|
|   maxOrderPerUser  	|             3            	|                    The maximum number of orders allowed per address                    	|
|    unitPriceBase   	|             4            	| The amount from base to target will be divided by this value to achieve decimal prices 	|
|   unitPriceTarget  	|             5            	| The amount from target to base will be divided by this value to achieve decimal prices 	|

<br />

|    **State Map**   	| **State Map Index** 	|   **State Map Key**   	|                                  **Description**                                 	|
|:------------------:	|:-------------------:	|:---------------------:	|:--------------------------------------------------------------------------------:	|
|  baseTokenBalance  	|          0          	| userAddress (address) 	|  The balance of base tokens stored within this contract belonging to userAddress 	|
| targetTokenBalance 	|          1          	| userAddress (address) 	| The balance of target token stored within this contract belonging to userAddress 	|
|     userOrders     	|          2          	| userAddress (address) 	|                        Number of orders this user has made                       	|
|     orderOwner     	|          3          	| orderId (short_bytes) 	|                                Owner of the order                                	|
|       feeBase      	|          4          	| orderId (short_bytes) 	|                            Fee to swap base to target                            	|
|      feeTarget     	|          5          	| orderId (short_bytes) 	|                            Fee to swap target to base                            	|
|       minBase      	|          6          	| orderId (short_bytes) 	|                      Minimum swap amount from base to target                     	|
|       maxBase      	|          7          	| orderId (short_bytes) 	|                      Maximum swap amount from base to target                     	|
|      minTarget     	|          8          	| orderId (short_bytes) 	|                      Minimum swap amount from target to base                     	|
|      maxTarget     	|          9          	| orderId (short_bytes) 	|                      Maximum swap amount from target to base                     	|
|      priceBase     	|          10         	| orderId (short_bytes) 	|                             Price from base to target                            	|
|     priceTarget    	|          11         	| orderId (short_bytes) 	|                             Price from target to base                            	|
|   baseTokenLocked  	|          12         	| orderId (short_bytes) 	|                          Number of base tokens in order                          	|
|  targetTokenLocked 	|          13         	| orderId (short_bytes) 	|                         Number of target tokens in order                         	|
|     orderStatus    	|          14         	| orderId (short_bytes) 	|                                Status of the order                               	|

<br />

```
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.maker_db_key_generator())
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.base_token_id_db_key_generator())
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.target_token_id_db_key_generator())
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.max_order_per_user_db_key_generator())
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.unit_price_base_db_key_generator())
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.unit_price_target_db_key_generator())

chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.base_token_balance_db_key_generator(sender))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.target_token_balance_db_key_generator(sender))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.user_orders_db_key_generator(sender))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.order_owner_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.fee_base_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.fee_target_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.min_base_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.max_base_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.min_target_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.max_target_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.price_base_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.price_target_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.base_token_locked_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.target_token_locked_db_key_generator(order_id))
chain.contract_db_query(v_stable_swap_contract_id, v_stable_swap_helper.order_status_db_key_generator(order_id))
```
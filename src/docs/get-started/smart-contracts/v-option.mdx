import image001 from "./vOptionContract.png";

<!-- KEYWORDS: V Option Smart Contract -->

# V Option Contract


## Introduction

V Option Contract provides an opportunity for the interested parties to buy or sell a VSYS underlying asset based on the determined agreement(e.g., pre-determined price, execute timestamp and so on). It allows users to create option tokens on the VSYS blockchain, and buyers holding these option tokens have the right to buy or sell some underlying asset at some point in the future. Different from the traditional option market, everyone can buy or sell option tokens to join the option market at any time without any contractual relationship with an exchange.


## Implementation

When registering a V Option contract, it takes in base token, target token, option token and proof token as inputs. The option token owner has the right to decide whether execute the option contract to get the target tokens from the pool and proof token represents the percentage of ownership in the pool.

<img style={{ width: '100%'}} src={image001} /><br/>

**Initialisation Phase**

Market maker requires to register both option token contract and proof token contract for use in V option contract first and ensure that option token and proof tokens are FULLY issued. And now, market maker can register a V Option contract by specifying the token ID of those 4 tokens. After that, tokens need to be deposited into V Option contract and it is neccesary to ensure that option tokens and proof tokens are FULLY desposited(i.e., token issue amount= token deposit amount). Finally, remember to activate the contract to deliver it to the next phase.


**Participation Phase**

Since V option contract is well-prepared in the previous phase, people who expect they can get the potential profit from selling option tokens can mint option tokens (and proof tokens) for selling purpose. Those option seller can also unlock the option tokens freely to get back target tokens from the pool before the execute timestamp.


**Execution Phrase**

After the execute timestamp, option holders have the right to execute V Option contract (with base tokens and option tokens) to get target tokens if they consider that the contract execution can bring them profit. They can also decide to give up the right to execute, in which case they will only lose the fees paid for the option tokens.


**Terminated Phrase**

After the execute deadline timestamp, proof token holder can collect their own crypto assets (base tokens/target tokens) from the pool according to their owned percentage of proof tokens.


## Use Cases

As mentioned in implementation, here is some uses cases to demonstrate how we operate V Option contract in these four phrases.

**Selling Option Tokens**

As the interested parties predict that the relative price of VBTC/VETH will drop after 3 months, they will mint the option token with VETH tokens(i.e., target tokens) for selling purpose and they become the option seller. Option sellers can take the option token to the exchange (i.e., stable swap contract) or through some Over-The-Counter (OTC) service, so the people who expect the price of VETH will rise after 3 months will be interested to buy the option tokens. If option sellers want to get back some target tokens or there is some remaining option tokens in the pool, they can unlock option token to get back VETH tokens before the execute timestamp.

**Option Execution**

After the execute timestamp determined in V Option contract, the option buyers (holders) have the right to buy VETH tokens at the strike price with the same amount of their owned option tokens if the price of VETH token is beneficial to them.

**Collect Base/Target Tokens**

Option sellers call collect function to get back VBTC tokens (and/or) VETH tokens based on the percentage of proof tokens proportional to the pool they own.


## Tutorial

For the tutorials, you can check the documentations for the token contracts of SDKs.

- [Python SDK](https://github.com/virtualeconomy/py-vsys/tree/main/doc/smart_contract)

- [Javascript SDK](https://github.com/virtualeconomy/js-vsys/tree/main/doc/smart_contract)